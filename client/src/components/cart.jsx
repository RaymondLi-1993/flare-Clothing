import React from "react";
import { useSelector } from "react-redux";
import History from "../history";

import Items from "./items";

const Cart = () => {
  const cart = useSelector(state => state.cart.cart);
  const user = useSelector(state => state.user);
  const total = useSelector(state => state.cart.total);

  if (cart.length === 0) {
    return (
      <div className="w-full h-screen">
        <div className="flex items-center justify-center w-full h-full">
          <svg
            height="512"
            viewBox="0 0 256 256"
            width="512"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M241.4 112.529H71.444l15.808 86.243H222.99l18.625-86.253c-.073.001-.143.01-.215.01z"
              fill="#fc3850"
            />
            <path
              d="M241.4 94.313H68.105l3.339 18.215H241.4c3.458 0 6.287-2.829 6.287-6.287V100.6c0-3.457-2.829-6.287-6.287-6.287z"
              fill="#f9677f"
            />
            <circle cx="186.947" cy="230.924" fill="#2a4a97" r="22.495" />
            <circle cx="114.637" cy="230.924" fill="#2a4a97" r="22.495" />
            <path
              d="M224.829 198.771H87.252L60.406 52.313a8.014 8.014 0 00-7.883-6.569H12.452a8.014 8.014 0 000 16.028h33.392L72.69 208.23a8.014 8.014 0 007.883 6.569h18.398c4.051-3.937 9.571-6.37 15.666-6.37s11.615 2.434 15.666 6.37h40.979c4.051-3.937 9.571-6.37 15.666-6.37s11.615 2.434 15.666 6.37h22.216a8.014 8.014 0 10-.001-16.028z"
              fill="#c5e3ff"
            />
            <circle cx="186.947" cy="230.924" fill="#c5e3ff" r="9.119" />
            <circle cx="114.637" cy="230.924" fill="#c5e3ff" r="9.119" />
            <g fill="#f9677f">
              <path d="M107.48 131.069h-.542c-3.945 0-7.173 3.228-7.173 7.173v32.443c0 3.945 3.228 7.173 7.173 7.173h.542c3.945 0 7.173-3.228 7.173-7.173v-32.443c0-3.945-3.228-7.173-7.173-7.173zM139.027 131.069h-.542c-3.945 0-7.173 3.228-7.173 7.173v32.443c0 3.945 3.228 7.173 7.173 7.173h.542c3.945 0 7.173-3.228 7.173-7.173v-32.443c0-3.945-3.228-7.173-7.173-7.173zM170.574 131.069h-.542c-3.945 0-7.173 3.228-7.173 7.173v32.443c0 3.945 3.228 7.173 7.173 7.173h.542c3.945 0 7.173-3.228 7.173-7.173v-32.443c0-3.945-3.227-7.173-7.173-7.173zM202.122 131.069h-.542c-3.945 0-7.173 3.228-7.173 7.173v32.443c0 3.945 3.228 7.173 7.173 7.173h.542c3.945 0 7.173-3.228 7.173-7.173v-32.443c0-3.945-3.228-7.173-7.173-7.173z" />
            </g>
            <path
              d="M154.562 2.581a7.978 7.978 0 00-7.978 7.978V39.28a7.978 7.978 0 0015.956 0V10.559a7.978 7.978 0 00-7.978-7.978zM218.758 32.335a7.978 7.978 0 00-11.283 0l-20.309 20.309c-3.116 3.116-3.116 8.167 0 11.283s8.167 3.116 11.283 0l20.309-20.309a7.98 7.98 0 000-11.283zM101.65 32.335c-3.116-3.116-8.167-3.116-11.283 0s-3.116 8.167 0 11.283l20.309 20.309c3.116 3.116 8.167 3.116 11.283 0s3.116-8.167 0-11.283z"
              fill="#facb35"
            />
            <path d="M222.989 201.271H87.252a2.5 2.5 0 01-2.459-2.049l-15.808-86.243a2.501 2.501 0 012.459-2.95H241.36l.168-.009c.772-.017 1.509.305 2.003.896s.688 1.377.525 2.131L225.431 199.3a2.495 2.495 0 01-2.442 1.971zm-133.654-5h131.636l17.542-81.243H74.444z" />
            <path d="M241.4 115.029H71.444a2.5 2.5 0 01-2.459-2.049l-3.339-18.215a2.501 2.501 0 012.459-2.95H241.4c4.845 0 8.787 3.942 8.787 8.787v5.641c0 4.844-3.942 8.786-8.787 8.786zm-167.873-5H241.4a3.791 3.791 0 003.787-3.787v-5.641a3.791 3.791 0 00-3.787-3.787H71.105zM186.947 255.918c-13.782 0-24.994-11.212-24.994-24.995 0-13.782 11.212-24.994 24.994-24.994s24.995 11.212 24.995 24.994c0 13.783-11.213 24.995-24.995 24.995zm0-44.988c-11.025 0-19.994 8.969-19.994 19.994s8.969 19.995 19.994 19.995 19.995-8.97 19.995-19.995-8.97-19.994-19.995-19.994zM114.637 255.918c-13.782 0-24.995-11.212-24.995-24.995 0-13.782 11.212-24.994 24.995-24.994s24.995 11.212 24.995 24.994c-.001 13.783-11.213 24.995-24.995 24.995zm0-44.988c-11.025 0-19.995 8.969-19.995 19.994s8.97 19.995 19.995 19.995 19.995-8.97 19.995-19.995-8.97-19.994-19.995-19.994z" />
            <path d="M224.829 217.3h-22.216c-.65 0-1.275-.253-1.742-.707-3.758-3.652-8.703-5.663-13.924-5.663s-10.166 2.011-13.923 5.663a2.5 2.5 0 01-1.742.707h-40.979c-.65 0-1.275-.253-1.742-.707-3.758-3.652-8.703-5.663-13.924-5.663s-10.166 2.011-13.923 5.663a2.5 2.5 0 01-1.742.707H80.573a10.513 10.513 0 01-10.342-8.619L43.761 64.272H12.452c-5.798 0-10.515-4.717-10.515-10.514s4.717-10.514 10.515-10.514h40.071c5.077 0 9.426 3.625 10.342 8.618l26.47 144.41h135.494c5.797 0 10.514 4.717 10.514 10.514s-4.717 10.514-10.514 10.514zm-21.231-5h21.231c3.041 0 5.514-2.474 5.514-5.514s-2.474-5.514-5.514-5.514H87.252a2.5 2.5 0 01-2.459-2.049L57.947 52.764a5.514 5.514 0 00-5.424-4.52H12.452c-3.041 0-5.515 2.474-5.515 5.514s2.474 5.514 5.515 5.514h33.392a2.5 2.5 0 012.459 2.049L75.149 207.78a5.513 5.513 0 005.424 4.52h17.414c4.594-4.116 10.466-6.37 16.65-6.37s12.056 2.254 16.65 6.37h39.01c4.594-4.116 10.466-6.37 16.65-6.37s12.056 2.254 16.651 6.37zM154.562 49.758c-5.778 0-10.478-4.7-10.478-10.478V10.56c0-5.778 4.7-10.478 10.478-10.478 5.777 0 10.478 4.7 10.478 10.478v28.72c0 5.778-4.7 10.478-10.478 10.478zm0-44.676a5.485 5.485 0 00-5.478 5.478v28.72a5.484 5.484 0 005.478 5.478 5.484 5.484 0 005.478-5.478V10.56a5.484 5.484 0 00-5.478-5.478zM192.808 68.758a10.448 10.448 0 01-7.409-3.063c-4.085-4.086-4.085-10.733 0-14.818l20.309-20.309c1.979-1.979 4.61-3.069 7.409-3.069s5.43 1.09 7.409 3.069c4.085 4.085 4.085 10.732 0 14.818l-20.309 20.309a10.452 10.452 0 01-7.409 3.063zm20.308-36.26c-1.463 0-2.839.57-3.873 1.604l-20.309 20.309a5.485 5.485 0 000 7.748 5.486 5.486 0 007.747 0L216.99 41.85a5.485 5.485 0 000-7.748 5.445 5.445 0 00-3.874-1.604zM116.317 68.758a10.448 10.448 0 01-7.409-3.063L88.6 45.385c-4.085-4.085-4.085-10.732 0-14.818 1.979-1.979 4.61-3.069 7.409-3.069s5.43 1.09 7.409 3.069l20.309 20.309c4.085 4.085 4.085 10.732 0 14.818a10.453 10.453 0 01-7.41 3.064zm-20.309-36.26c-1.463 0-2.839.57-3.874 1.604a5.485 5.485 0 000 7.748l20.309 20.309a5.486 5.486 0 007.747 0 5.485 5.485 0 000-7.748L99.882 34.103a5.442 5.442 0 00-3.874-1.605z" />
            <path d="M251.562 105.922H69.774a2.5 2.5 0 110-5h181.788a2.5 2.5 0 110 5zM186.947 242.543c-6.407 0-11.619-5.212-11.619-11.62 0-6.407 5.212-11.619 11.619-11.619s11.62 5.212 11.62 11.619c0 6.408-5.213 11.62-11.62 11.62zm0-18.238c-3.65 0-6.619 2.969-6.619 6.619s2.969 6.62 6.619 6.62 6.62-2.97 6.62-6.62-2.97-6.619-6.62-6.619zM114.637 242.543c-6.407 0-11.619-5.212-11.619-11.62 0-6.407 5.212-11.619 11.619-11.619s11.62 5.212 11.62 11.619c-.001 6.408-5.213 11.62-11.62 11.62zm0-18.238c-3.65 0-6.619 2.969-6.619 6.619s2.969 6.62 6.619 6.62 6.62-2.97 6.62-6.62-2.97-6.619-6.62-6.619zM107.48 180.358h-.542c-5.333 0-9.673-4.339-9.673-9.673v-32.443c0-5.333 4.339-9.673 9.673-9.673h.542c5.333 0 9.673 4.339 9.673 9.673v32.443c0 5.334-4.34 9.673-9.673 9.673zm-.542-46.789a4.678 4.678 0 00-4.673 4.673v32.443a4.678 4.678 0 004.673 4.673h.542a4.678 4.678 0 004.673-4.673v-32.443a4.678 4.678 0 00-4.673-4.673zM139.027 180.358h-.542c-5.333 0-9.673-4.339-9.673-9.673v-32.443c0-5.333 4.339-9.673 9.673-9.673h.542c5.334 0 9.673 4.339 9.673 9.673v32.443c0 5.334-4.339 9.673-9.673 9.673zm-.542-46.789a4.678 4.678 0 00-4.673 4.673v32.443a4.678 4.678 0 004.673 4.673h.542a4.678 4.678 0 004.673-4.673v-32.443a4.679 4.679 0 00-4.673-4.673zM170.574 180.358h-.542c-5.333 0-9.673-4.339-9.673-9.673v-32.443c0-5.333 4.339-9.673 9.673-9.673h.542c5.334 0 9.673 4.339 9.673 9.673v32.443c.001 5.334-4.339 9.673-9.673 9.673zm-.541-46.789a4.678 4.678 0 00-4.673 4.673v32.443a4.678 4.678 0 004.673 4.673h.542a4.678 4.678 0 004.673-4.673v-32.443a4.679 4.679 0 00-4.673-4.673zM202.122 180.358h-.542c-5.333 0-9.673-4.339-9.673-9.673v-32.443c0-5.333 4.339-9.673 9.673-9.673h.542c5.333 0 9.673 4.339 9.673 9.673v32.443c-.001 5.334-4.34 9.673-9.673 9.673zm-.542-46.789a4.678 4.678 0 00-4.673 4.673v32.443a4.678 4.678 0 004.673 4.673h.542a4.678 4.678 0 004.673-4.673v-32.443a4.678 4.678 0 00-4.673-4.673z" />
          </svg>
          <h1 className="text-6xl font-bold">Cart is empty!</h1>
        </div>
      </div>
    );
  }
  return (
    <>
      <div className="w-screen h-screen flex justify-center">
        <div className="container  mt-12 flex flex-col w-9/12 h-full">
          {cart.map(item => {
            return <Items key={item.id} otherProps={{ ...item }} />;
          })}
          <div className="flex w-full justify-end self-center">
            <div className="mr-6">
              {total !== 0 ? `Total: $${total}` : null}
            </div>
            <div>
              <button
                onClick={
                  user
                    ? () => History.push(`/shipping`)
                    : () => History.push(`/login`)
                }
                className="bg-yellow-500 hover:bg-yellow-700 text-black font-bold py-1 px-2 rounded"
              >
                Proceed
              </button>
            </div>
          </div>
        </div>
      </div>
    </>
  );
};

export default Cart;
